<!--pages/test/test.wxml-->
<view class="test-container">
  <!-- 顶部进度条 -->
  <view class="progress-container">
    <progress class="progress" percent="{{(currentQuestion+1)/totalQuestions*100}}" stroke-width="8" activeColor="#6A3DE8" backgroundColor="#E0E0E0" />
    <view class="progress-text">{{currentQuestion+1}}/{{totalQuestions}}</view>
  </view>
  
  <!-- 问题卡片 -->
  <view class="question-card" animation="{{animationData}}">
    <view class="card-inner">
      <!-- 问题图片 -->
      <view class="question-image-container">
        <image class="question-image" src="{{questions[currentQuestion].questionImage}}" mode="aspectFit"></image>
      </view>
      
      <!-- 选项 -->
      <view class="options-container">
        <!-- 选项A -->
        <view class="option-item {{selectedAnswers[currentQuestion] === 'A' ? 'selected' : ''}}" 
              bindtap="selectOption" 
              data-option="A">
          <image class="option-image" src="{{questions[currentQuestion].optionAImage}}" mode="aspectFit"></image>
        </view>
        
        <!-- 选项B -->
        <view class="option-item {{selectedAnswers[currentQuestion] === 'B' ? 'selected' : ''}}" 
              bindtap="selectOption" 
              data-option="B">
          <image class="option-image" src="{{questions[currentQuestion].optionBImage}}" mode="aspectFit"></image>
        </view>
      </view>
    </view>
  </view>
  
  <!-- 底部导航按钮 -->
  <view class="navigation-buttons">
    <button class="nav-btn prev-btn {{currentQuestion === 0 ? 'disabled' : ''}}" 
            bindtap="prevQuestion" 
            disabled="{{currentQuestion === 0}}">
      上一题
    </button>
    <button class="nav-btn next-btn {{selectedAnswers[currentQuestion] === null ? 'disabled' : ''}}" 
            bindtap="nextQuestion" 
            disabled="{{selectedAnswers[currentQuestion] === null}}">
      {{isLastQuestion ? '查看结果' : '下一题'}}
    </button>
  </view>
  
  <!-- 装饰元素 -->
  <view class="decoration star1"></view>
  <view class="decoration star2"></view>
  <view class="decoration bubble1"></view>
  <view class="decoration bubble2"></view>
</view> 